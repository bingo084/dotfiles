mixed-port: 7890
allow-lan: true
mode: rule
log-level: warning
ipv6: false
external-controller: 127.0.0.1:9090
geox-url:
  geoip: "{{ .github }}/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "{{ .github }}/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "{{ .github }}/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb"
  asn: "{{ .github }}/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

pp: &proxy-provider
  type: http
  interval: 172800
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    interval: 600
    timeout: 5000
    expected-status: 204

proxy-providers:
  bocchi:
    <<: *proxy-provider
    url: {{ (rbwFields "Subscribe").BocchiProvider.value | quote }}
  infiniport:
    <<: *proxy-provider
    url: {{ (rbwFields "Subscribe").InfiniPortProvider.value | quote }}
  miaona:
    <<: *proxy-provider
    url: {{ (rbwFields "Subscribe").MiaonaProvider.value | quote }}

rp: &rule-provider
  type: http
  behavior: classical
  format: yaml
  interval: 86400

rule-providers:
  local-area-network:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
  un-ban:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/UnBan.yaml"
  ad:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml"
  program-ad:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/BanProgramAD.yaml"
  easy-list:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyList.yaml"
  easy-list-china:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyListChina.yaml"
  easy-privacy:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyPrivacy.yaml"
  fcm:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleFCM.yaml"
  googlecn:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleCN.yaml"
  steamcn:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/SteamCN.yaml"
  microsoft:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Microsoft.yaml"
  openai:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OpenAi.yaml"
  epic:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Epic.yaml"
  origin:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Origin.yaml"
  sony:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Sony.yaml"
  steam:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Steam.yaml"
  nintendo:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Nintendo.yaml"
  gfw:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyGFWlist.yaml"
  china-domain:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml"
  china-company-ip:
    <<: *rule-provider
    behavior: ipcidr
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaCompanyIp.yaml"
  download:
    <<: *rule-provider
    url: "{{ .githubRaw }}/ACL4SSR/ACL4SSR/master/Clash/Providers/Download.yaml"

ut: &url-test
  type: url-test
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50

dg: &direct-group
  type: select
  proxies:
    - DIRECT
    - ðŸš€ èŠ‚ç‚¹é€‰æ‹©

rg: &reject-group
  type: select
  proxies:
    - REJECT
    - DIRECT

pg: &proxy-group
  type: select
  proxies:
    - ðŸš€ èŠ‚ç‚¹é€‰æ‹©
    - DIRECT

ag: &all-group
  type: select
  use:
    - bocchi
    - miaona
    - infiniport

proxy-groups:
  - name: ðŸš€ èŠ‚ç‚¹é€‰æ‹©
    <<: *all-group
    proxies:
      - Bocchi
      - InfiniPort
      - Miaona
      - DIRECT
  - name: Bocchi
    <<: *url-test
    icon: https://bocchi.ooo/img/favicon.ico
    use:
      - bocchi
  - name: InfiniPort
    <<: *url-test
    icon: https://infiniport.xyz/assets/images/favicon.svg
    use:
      - infiniport
  - name: Miaona
    <<: *url-test
    icon: https://miaona.info/favicon.ico
    use:
      - miaona
  - name: ðŸ’¬ OpenAi
    <<: *all-group
  - name: ðŸ“¢ è°·æ­ŒFCM
    <<: *direct-group
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    <<: *direct-group
  - name: ðŸŽ® æ¸¸æˆå¹³å°
    <<: *direct-group
  - name: ðŸ›‘ å¹¿å‘Šæ‹¦æˆª
    <<: *reject-group
  - name: ðŸƒ åº”ç”¨å‡€åŒ–
    <<: *reject-group
  - name: ðŸ†Ž AdBlock
    <<: *reject-group
  - name: ðŸ›¡ï¸ éšç§é˜²æŠ¤ 
    <<: *reject-group
  - name: ðŸŸ æ¼ç½‘ä¹‹é±¼
    <<: *proxy-group

rules:
  - RULE-SET,local-area-network,DIRECT
  - RULE-SET,un-ban,DIRECT
  - RULE-SET,ad,ðŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,program-ad,ðŸƒ åº”ç”¨å‡€åŒ–
  - RULE-SET,easy-list,ðŸ†Ž AdBlock
  - RULE-SET,easy-list-china,ðŸ†Ž AdBlock
  - RULE-SET,easy-privacy,ðŸ›¡ï¸ éšç§é˜²æŠ¤
  - RULE-SET,fcm,ðŸ“¢ è°·æ­ŒFCM
  - RULE-SET,googlecn,DIRECT
  - RULE-SET,steamcn,DIRECT
  - RULE-SET,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,openai,ðŸ’¬ OpenAi
  - RULE-SET,epic,ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,origin,ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,sony,ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,steam,ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,nintendo,ðŸŽ® æ¸¸æˆå¹³å°
  - RULE-SET,gfw,ðŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,china-domain,DIRECT
  - RULE-SET,china-company-ip,DIRECT
  - RULE-SET,download,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ðŸŸ æ¼ç½‘ä¹‹é±¼
